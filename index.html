<!DOCTYPE html>
<html lang="pt-BR" class=""> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auxiliar de Evolução Médica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Definindo variáveis CSS para cores Material Design - Tema Claro */
        :root {
            --md-primary: #1976D2; /* Azul Material escuro */
            --md-primary-light: #2196F3; /* Azul Material */
            --md-primary-dark: #1565C0; /* Azul Material mais escuro */
            --md-secondary: #00BCD4; /* Ciano Material */
            --md-surface: #FFFFFF;
            --md-background: #F5F5F5; /* Cinza claro Material */
            --md-on-surface: rgba(0, 0, 0, 0.87); /* Cor de texto principal */
            --md-on-background: rgba(0, 0, 0, 0.87);
            --md-on-primary: #FFFFFF;
            --md-text-secondary: rgba(0, 0, 0, 0.60);
            --md-divider: rgba(0, 0, 0, 0.12);
        }

        /* Definindo variáveis para o tema escuro */
        html.dark {
            --md-primary: #BB86FC; /* Roxo Material Dark */
            --md-primary-light: #985EFF; 
            --md-primary-dark: #3700B3; 
            --md-secondary: #03DAC6; /* Ciano Material Dark */
            --md-surface: #1E1E1E; /* Cinza escuro para cards */
            --md-background: #121212; /* Fundo principal escuro */
            --md-on-surface: rgba(255, 255, 255, 0.87); /* Texto principal claro */
            --md-on-background: rgba(255, 255, 255, 0.87);
            --md-on-primary: #000000;
            --md-text-secondary: rgba(255, 255, 255, 0.60); /* Texto secundário claro */
            --md-divider: rgba(255, 255, 255, 0.12); /* Divisor claro */
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--md-background);
            color: var(--md-on-background);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .container {
            max-width: 1024px;
        }
        /* Estilos para o Accordion */
        .accordion-header {
            transition: background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        html.dark .accordion-header:hover {
             background-color: rgba(255, 255, 255, 0.05);
        }
        .accordion-content {
            transition: max-height 0.3s ease-out;
            overflow: hidden;
            border-color: var(--md-divider);
        }
        .chevron-icon {
            transition: transform 0.3s ease-in-out;
        }
        .rotate-180 {
            transform: rotate(180deg);
        }
        /* Foco aprimorado para inputs (Material-like) */
        .form-input, .form-textarea, .form-select {
            border: none;
            border-bottom: 1px solid var(--md-divider);
            padding-left: 0.25rem;
            padding-right: 0.25rem;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            background-color: transparent;
            color: var(--md-on-background);
            transition: border-bottom-color 0.2s ease-in-out;
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-bottom-color: var(--md-primary-light);
            box-shadow: 0 1px 0 0 var(--md-primary-light);
        }
        html.dark .form-input:focus, 
        html.dark .form-textarea:focus, 
        html.dark .form-select:focus {
             border-bottom-color: var(--md-secondary);
             box-shadow: 0 1px 0 0 var(--md-secondary);
        }
        .form-checkbox {
            accent-color: var(--md-primary-light);
            margin-right: 0.5rem;
        }
        html.dark .form-checkbox {
             accent-color: var(--md-secondary);
        }
        .subsection-title {
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--md-on-surface);
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--md-divider);
            margin-bottom: 1.5rem;
        }
        .grid-container {
            display: grid;
            gap: 1.5rem;
        }
        @media (min-width: 768px) { .grid-container { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1024px) { .grid-container { grid-template-columns: repeat(3, 1fr); } }
       
        html.dark .bg-gray-50 {
             background-color: rgba(255, 255, 255, 0.05);
        }

        /* Estilos Material para Cards e Elevado */
        .md-card {
            background-color: var(--md-surface);
            border-radius: 8px;
            box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2),
                         0px 4px 5px 0px rgba(0,0,0,0.14),
                         0px 1px 10px 0px rgba(0,0,0,0.12);
            transition: background-color 0.3s ease;
        }
        .md-card-elevated {
            box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2),
                         0px 8px 10px 1px rgba(0,0,0,0.14),
                         0px 3px 14px 2px rgba(0,0,0,0.12);
        }
        .md-button {
            background-color: var(--md-primary-light);
            color: var(--md-on-primary);
            border-radius: 4px;
            transition: background-color 0.2s, box-shadow 0.2s;
        }
        .md-button:hover {
            background-color: var(--md-primary-dark);
            box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),
                         0px 6px 10px 0px rgba(0,0,0,0.14),
                         0px 1px 18px 0px rgba(0,0,0,0.12);
        }
        .md-button:active { transform: scale(0.98); }

        /* Cores de texto */
        .text-primary { color: var(--md-on-background); }
        .text-secondary { color: var(--md-text-secondary); }
        .text-blue-500 { color: var(--md-primary-light) !important; }
        .bg-blue-500 { background-color: var(--md-primary-light) !important; }
        .hover\:bg-blue-600:hover { background-color: var(--md-primary-dark) !important; }
        .focus\:ring-blue-500:focus { --tw-ring-color: var(--md-primary-light) !important; }
        html.dark .focus\:ring-blue-500:focus { --tw-ring-color: var(--md-secondary) !important; }
        html.dark .focus\:ring-offset-2:focus { --tw-ring-offset-color: var(--md-background) !important; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="container mx-auto space-y-6 md:space-y-8">
        <header class="mb-4 flex justify-between items-center p-2">
            <div class="text-center flex-grow">
                <h1 class="text-3xl md:text-4xl font-bold text-primary">Auxiliar de Evolução Médica</h1>
                <p class="text-base md:text-lg text-secondary mt-1">Criado com ❤️ por @caiodeag</p>
            </div>
            <button id="theme-toggle" class="p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" aria-label="Toggle dark mode">
                <i class="fas fa-moon text-xl text-secondary"></i>
            </button>
        </header>
        <main class="md-card p-4 md:p-8 space-y-4">
            <div id="accordion-container" class="space-y-4">

                <div class="md-card"> <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-user-md text-xl text-blue-500"></i>
                            <h2 class="text-lg md:text-xl font-medium text-primary">1. Situação Geral e Anamnese</h2>
                        </div>
                        <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                    </button>
                    <div class="accordion-content p-4 md:p-6 border-t hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                           <div>
                                <label class="font-medium text-secondary">Setor:</label>
                                <input type="text" id="setor" placeholder="Ex: CTI, Enfermaria" class="form-input w-full mt-1">
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Leito:</label>
                                <input type="text" id="leito" placeholder="Ex: CTI 3" class="form-input w-full mt-1">
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Evolução Clínica:</label>
                                <select id="evolucao-clinica" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Estável">Estável</option>
                                    <option value="Mantém o Quadro">Mantém o Quadro</option>
                                    <option value="Melhora Clínica">Melhora Clínica</option>
                                    <option value="Piora Clínica">Piora Clínica</option>
                                    <option value="Instável">Instável</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Evolução Hemodinâmica:</label>
                                <select id="evolucao-hemo" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Estável">Estável</option>
                                    <option value="Instável">Instável</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Estado Geral:</label>
                                <select id="estado-geral" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Bom">Bom</option>
                                    <option value="Regular">Regular</option>
                                    <option value="Ruim">Ruim</option>
                                    <option value="Grave">Grave</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Nível de Consciência (Anamnese):</label>
                                <select id="nivel-consciencia" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Alerta">Alerta</option>
                                    <option value="Sonolento">Sonolento</option>
                                    <option value="Confuso">Confuso</option>
                                    <option value="Agitado">Agitado</option>
                                    <option value="Obnubilado">Obnubilado</option>
                                    <option value="Estuporoso">Estuporoso</option>
                                    <option value="Em Coma">Em Coma</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Estado Hidratação:</label>
                                <select id="estado-hidratacao" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Normohidratado">Normohidratado</option>
                                    <option value="Desidratado">Desidratado</option>
                                    <option value="Hiper-hidratado">Hiper-hidratado</option>
                                </select>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Queixas nas 24h:</label>
                                <select id="queixas" class="form-select w-full mt-1">
                                    <option value="">-- Selecione --</option>
                                    <option value="Sim">Sim</option>
                                    <option value="Não">Não</option>
                                </select>
                            </div>
                            <div id="queixas-obs-container" class="col-span-full hidden">
                                <label class="font-medium text-secondary">Descrição das queixas:</label>
                                <textarea id="queixas-obs" rows="1" class="form-textarea w-full mt-1" placeholder="Ex: Refere dor abdominal em cólica"></textarea>
                            </div>
                             <div class="col-span-full grid grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="form-group-flex">
                                    <label class="font-medium text-secondary">Distermias:</label>
                                    <select id="distermias" class="form-select flex-1">
                                        <option value="">-- Sel --</option>
                                        <option value="Sim">Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>
                                <div class="form-group-flex">
                                    <label class="font-medium text-secondary">Disglicemias:</label>
                                    <select id="disglicemias" class="form-select flex-1">
                                        <option value="">-- Sel --</option>
                                        <option value="Sim">Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>
                                <div class="form-group-flex">
                                    <label class="font-medium text-secondary">Alt. de PA:</label>
                                    <select id="alt-pa" class="form-select flex-1">
                                        <option value="">-- Sel --</option>
                                        <option value="Sim">Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>
                                <div class="form-group-flex">
                                    <label class="font-medium text-secondary">Alterações Lab:</label>
                                    <select id="alt-lab" class="form-select flex-1">
                                        <option value="">-- Sel --</option>
                                        <option value="Sim">Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>
                            </div>
                             <div class="col-span-full mt-2">
                                <label class="font-medium text-secondary">Observações gerais (Anamnese):</label>
                                <textarea id="obs-gerais" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Paciente em oxigenoterapia por cateter nasal"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="md-card">
                        <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-heart-pulse text-xl text-blue-500"></i>
                                <h2 class="text-lg md:text-xl font-medium text-primary">2. Parâmetros Vitais e Suporte</h2>
                            </div>
                            <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                        </button>
                        <div class="accordion-content p-4 md:p-6 border-t hidden">
                            <h3 class="subsection-title">Parâmetros Atuais</h3>
                            <div class="grid-container mb-8">
                               <div>
                                    <label class="font-medium text-secondary">PA:</label>
                                    <input type="text" id="pa" placeholder="mmHg" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">FC:</label>
                                    <input type="text" id="fc" placeholder="bpm" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">FR:</label>
                                    <input type="text" id="fr" placeholder="irpm" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Temp:</label>
                                    <input type="text" id="temp" placeholder="°C" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">SatO₂:</label>
                                    <input type="text" id="sato2" placeholder="%" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Dor (Escala 1-10):</label>
                                    <input type="text" id="dor-escala" placeholder="0 a 10" class="form-input w-full mt-1">
                                </div>
                            </div>
                            <h3 class="subsection-title">Suporte e Balanço</h3>
                            <div class="grid-container mb-8">
                                  <div>
                                    <label class="font-medium text-secondary">Ventilação:</label>
                                    <select id="suporte-vent" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Ar Ambiente">Ar Ambiente</option>
                                        <option value="Cateter Nasal">Cateter Nasal</option>
                                        <option value="Máscara de O2">Máscara de O2</option>
                                        <option value="Máscara com Reservatório">Máscara com Reservatório</option>
                                        <option value="VNI">VNI</option>
                                        <option value="VM">VM</option>
                                        <option value="outro">Outro</option>
                                    </select>
                                </div>
                                <div id="suporte-vent-outro-container" class="hidden">
                                    <label class="font-medium text-secondary">Detalhes:</label>
                                    <input type="text" id="suporte-vent-outro" class="form-input w-full mt-1" placeholder="Detalhe do suporte ventilatório (outro)">
                                </div>

                                <div id="vm-parameters-container" class="col-span-full hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4 p-4 md-card bg-gray-50">
                                    <h4 class="col-span-full text-lg font-semibold text-primary mb-2">Parâmetros de Ventilação Mecânica</h4>
                                    <div>
                                        <label class="font-medium text-secondary">Modo VM:</label>
                                        <input type="text" id="vm-modo" placeholder="Ex: VCV, PCV, PSV" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">FiO₂:</label>
                                        <input type="text" id="vm-fio2" placeholder="%" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">PEEP:</label>
                                        <input type="text" id="vm-peep" placeholder="cmH₂O" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">FR (Ventilador):</label>
                                        <input type="text" id="vm-fr" placeholder="irpm" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Pressão de Pico (Pva):</label>
                                        <input type="text" id="vm-pva" placeholder="cmH₂O" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Volume Corrente (VT):</label>
                                        <input type="text" id="vm-tidal-vol" placeholder="mL" class="form-input w-full mt-1">
                                    </div>
                                    <div class="col-span-full">
                                        <label class="font-medium text-secondary">Outros Parâmetros VM:</label>
                                        <textarea id="vm-outros-params" rows="1" class="form-textarea w-full mt-1" placeholder="Ex: Plateau, I:E, Fluxo"></textarea>
                                    </div>
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Uso de DVA:</label>
                                    <select id="dva" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Sim">Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>
                                <div id="dva-obs-container" class="col-span-full hidden">
                                    <label class="font-medium text-secondary">Detalhes DVA:</label>
                                    <input type="text" id="dva-obs" placeholder="Ex: Noradrenalina 5 mcg/min" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Diurese (Tipo):</label>
                                    <select id="diurese-tipo" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Espontânea">Espontânea</option>
                                        <option value="Sonda Vesical de Demora">Sonda Vesical de Demora</option>
                                        <option value="Anúria/Oligúria">Anúria/Oligúria</option>
                                        <option value="Ausente">Ausente</option>
                                        <option value="outro">Outro</option>
                                    </select>
                                </div>
                                <div id="diurese-tipo-outro-container" class="hidden">
                                    <label class="font-medium text-secondary">Detalhes Diurese:</label>
                                    <input type="text" id="diurese-tipo-outro" class="form-input w-full mt-1" placeholder="Detalhe do tipo de diurese (outro)">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Diurese (Qtde):</label>
                                    <input type="text" id="diurese" placeholder="mL/24h" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Evacuações (Tipo):</label>
                                    <select id="evacuacoes-tipo" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Presentes e Fisiológicas">Presentes e Fisiológicas</option>
                                        <option value="Diarreia">Diarréia</option>
                                        <option value="Constipação">Constipação</option>
                                        <option value="Melena">Melena</option>
                                        <option value="Hematoquezia">Hematoquezia</option>
                                        <option value="Ausentes">Ausentes</option>
                                        <option value="outro">Outro</option>
                                    </select>
                                </div>
                                <div id="evacuacoes-tipo-outro-container" class="hidden">
                                    <label class="font-medium text-secondary">Detalhes Evacuações:</label>
                                    <input type="text" id="evacuacoes-tipo-outro" class="form-input w-full mt-1" placeholder="Detalhe do tipo de evacuações (outro)">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Evacuações (Qtde):</label>
                                    <input type="text" id="evacuacoes" placeholder="nº/24h" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Dieta (Via):</label>
                                    <select id="dieta-tipo" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Oral">Oral</option>
                                        <option value="Enteral">Enteral</option>
                                        <option value="Parenteral">Parenteral</option>
                                        <option value="Jejum">Jejum</option>
                                        <option value="outro">Outro</option>
                                    </select>
                                </div>
                                <div id="dieta-tipo-outro-container" class="hidden">
                                    <label class="font-medium text-secondary">Detalhes (Dieta - Outro):</label>
                                    <input type="text" id="dieta-tipo-outro" class="form-input w-full mt-1" placeholder="Detalhe da via da dieta (outro)">
                                </div>
                                <div id="dieta-aceitacao-container">
                                    <label class="font-medium text-secondary">Aceitação da dieta:</label>
                                    <select id="dieta-aceitacao" class="form-select w-full mt-1">
                                        <option value="">-- Selecione --</option>
                                        <option value="Boa">Boa</option>
                                        <option value="Regular">Regular</option>
                                        <option value="Ruim">Ruim</option>
                                    </select>
                                </div>
                            </div>

                            <h3 class="subsection-title">Picos e Eventos nas 24h</h3>
                            <div class="grid-container">
                               <div>
                                    <label class="font-medium text-secondary">Pico PA (mmHg):</label>
                                    <input type="text" id="pico-pa" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="pico-pa-hora" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Queda PA (mmHg):</label>
                                    <input type="text" id="queda-pa" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="queda-pa-hora" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Pico Temp (°C):</label>
                                    <input type="text" id="pico-temp" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="pico-temp-hora" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Queda Temp (°C):</label>
                                    <input type="text" id="queda-temp" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="queda-temp-hora" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Pico Glicêmico (mg/dL):</label>
                                    <input type="text" id="pico-glicemia" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="pico-glicemia-hora" class="form-input w-full mt-1">
                                </div>
                                <div>
                                    <label class="font-medium text-secondary">Queda Glicêmica (mg/dL):</label>
                                    <input type="text" id="queda-glicemia" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="queda-glicemia-hora" class="form-input w-full mt-1">
                                </div>
                                 <div>
                                    <label class="font-medium text-secondary">Pico SatO₂ (%):</label>
                                    <input type="text" id="pico-sato2" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="pico-sato2-hora" class="form-input w-full mt-1">
                                </div>
                                 <div>
                                    <label class="font-medium text-secondary">Queda SatO₂ (%):</label>
                                    <input type="text" id="queda-sato2" placeholder="Valor" class="form-input w-full mt-1">
                                    <input type="time" id="queda-sato2-hora" class="form-input w-full mt-1">
                                </div>
                            </div>
                        </div>
                    </div>

                 <div class="md-card">
                        <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-stethoscope text-xl text-blue-500"></i>
                                <h2 class="text-lg md:text-xl font-medium text-primary">3. Exame Físico</h2>
                            </div>
                            <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                        </button>
                        <div class="accordion-content p-4 md:p-6 border-t hidden space-y-8">
                           <div>
                                <h3 class="subsection-title">Geral</h3>
                                 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-4">
                                    <div>
                                        <label class="font-medium text-secondary">Nível de Consciência (Geral):</label>
                                        <select id="ef-geral-consciencia" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Lúcido e Orientado">Lúcido e Orientado</option>
                                            <option value="Sonolento">Sonolento</option>
                                            <option value="Confuso">Confuso</option>
                                            <option value="Agitado">Agitado</option>
                                            <option value="Obnubilado">Obnubilado</option>
                                            <option value="Estuporoso">Estuporoso</option>
                                            <option value="Em Coma">Em Coma</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-geral-consciencia-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Consciência Geral):</label>
                                        <input type="text" id="ef-geral-consciencia-outro" class="form-input w-full mt-1" placeholder="Detalhe do nível de consciência geral">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Estado Nutricional:</label>
                                        <select id="ef-estado-nutricional" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Eutrófico">Eutrófico</option>
                                            <option value="Desnutrido">Desnutrido</option>
                                            <option value="Obeso">Obeso</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-estado-nutricional-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Estado Nutricional):</label>
                                        <input type="text" id="ef-estado-nutricional-outro" class="form-input w-full mt-1" placeholder="Detalhe do estado nutricional">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Decúbito/Mobilidade:</label>
                                        <select id="ef-decubito" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ativo no leito">Ativo no leito</option>
                                            <option value="Restrito ao leito">Restrito ao leito</option>
                                            <option value="Decúbito Dorsal">Decúbito Dorsal</option>
                                            <option value="Decúbito Lateral Direito">Decúbito Lateral Direito</option>
                                            <option value="Decúbito Lateral Esquerdo">Decúbito Lateral Esquerdo</option>
                                            <option value="Deambula com auxílio">Deambula com auxílio</option>
                                            <option value="Deambula sem auxílio">Deambula sem auxílio</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-decubito-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Decúbito/Mobilidade):</label>
                                        <input type="text" id="ef-decubito-outro" class="form-input w-full mt-1" placeholder="Detalhe do decúbito/mobilidade">
                                    </div>
                                    <div class="col-span-full">
                                        <label class="font-medium text-secondary">Dispositivos, Sondas, Cateteres ou Drenos:</label>
                                        <textarea id="ef-dispositivos" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Sonda vesical de demora, CVC em subclávia direita, dreno de tórax."></textarea>
                                    </div>
                                </div>
                                <div class="flex flex-wrap gap-x-6 gap-y-2 mb-4">
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-corado" class="form-checkbox"><span class="ml-1">Corado</span></label>
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-hidratado" class="form-checkbox"><span class="ml-1">Hidratado</span></label>
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-anictérico" class="form-checkbox"><span class="ml-1">Anictérico</span></label>
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-acianotico" class="form-checkbox"><span class="ml-1">Acianótico</span></label>
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-afebril" class="form-checkbox"><span class="ml-1">Afebril</span></label>
                                    <label class="flex items-center text-secondary"><input type="checkbox" id="ef-eupneico" class="form-checkbox"><span class="ml-1">Eupnéico</span></label>
                                </div>
                                <textarea id="ef-geral-obs" rows="1" class="form-textarea w-full mt-4" placeholder="Outras observações gerais, como fácies ou expressão."></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Neurológico</h3>
                                <div class="grid-container">
                                   <div>
                                        <label class="font-medium text-secondary">Nível de Consciência:</label>
                                        <select id="neuro-consciencia-ef" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Lúcido e Orientado (T/E)">Lúcido e Orientado (T/E)</option>
                                            <option value="Confuso">Confuso</option>
                                            <option value="Agitado">Agitado</option>
                                            <option value="Desorientado">Desorientado</option>
                                            <option value="Sonolento">Sonolento</option>
                                            <option value="Obnubilado">Obnubilado</option>
                                            <option value="Estuporoso">Estuporoso</option>
                                            <option value="Em Coma">Em Coma</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="neuro-consciencia-ef-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-consciencia-ef-outro" class="form-input w-full mt-1" placeholder="Detalhe do nível de consciência">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Pupilas:</label>
                                        <select id="neuro-pupilas" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Isocóricas e Fotorreagentes">Isocóricas e Fotorreagentes</option>
                                            <option value="Lentamente Fotorreagentes">Lentamente Fotorreagentes</option>
                                            <option value="Mióticas">Mióticas</option>
                                            <option value="Midriáticas">Midriáticas</option>
                                            <option value="Anisocóricas">Anisocóricas</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                     <div id="neuro-pupilas-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-pupilas-outro" class="form-input w-full mt-1" placeholder="Detalhe das pupilas">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Pares Cranianos:</label>
                                        <select id="neuro-pares" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Preservados">Preservados</option>
                                            <option value="Alterados">Alterados</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="neuro-pares-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Pares):</label>
                                        <input type="text" id="neuro-pares-detalhes" class="form-input w-full mt-1" placeholder="Descreva a alteração">
                                    </div>
                                    <div id="neuro-pares-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-pares-outro" class="form-input w-full mt-1" placeholder="Detalhe dos pares cranianos">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Força Motora:</label>
                                        <select id="neuro-forca-motora" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Preservada nos 4 Membros">Preservada nos 4 Membros</option>
                                            <option value="Diminuída">Diminuída</option>
                                            <option value="Paresia (localizar)">Paresia (localizar)</option>
                                            <option value="Plegia (localizar)">Plegia (localizar)</option>
                                            <option value="Hemiplegia">Hemiplegia</option>
                                            <option value="Tetraplegia">Tetraplegia</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="neuro-forca-motora-detalhes-container" class="hidden">
                                         <label class="font-medium text-secondary">Detalhes (Força):</label>
                                        <input type="text" id="neuro-forca-motora-detalhes" class="form-input w-full mt-1" placeholder="Localização e grau">
                                    </div>
                                    <div id="neuro-forca-motora-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-forca-motora-outro" class="form-input w-full mt-1" placeholder="Detalhe da força motora">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Sensibilidade:</label>
                                        <select id="neuro-sensibilidade" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Preservada">Preservada</option>
                                            <option value="Diminuída">Diminuída</option>
                                            <option value="Alterada">Alterada</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="neuro-sensibilidade-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-sensibilidade-outro" class="form-input w-full mt-1" placeholder="Detalhe da sensibilidade">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Reflexos:</label>
                                        <select id="neuro-reflexos" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Preservados">Preservados</option>
                                            <option value="Hiporreflexia">Hiporreflexia</option>
                                            <option value="Arreflexia">Arreflexia</option>
                                            <option value="Hiperreflexia">Hiperreflexia</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="neuro-reflexos-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="neuro-reflexos-outro" class="form-input w-full mt-1" placeholder="Detalhe dos reflexos">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Sinais Meníngeos:</label>
                                        <select id="neuro-meningeos" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausentes">Ausentes</option>
                                            <option value="Presentes">Presentes</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Escore de Glasgow:</label>
                                        <input type="text" id="glasgow" placeholder="E, V, M" class="form-input w-full mt-1">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Escala de RASS:</label>
                                        <select id="neuro-rass" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="+4 Agitado Combativo">+4 Agitado Combativo</option>
                                            <option value="+3 Muito Agitado">+3 Muito Agitado</option>
                                            <option value="+2 Agitado">+2 Agitado</option>
                                            <option value="+1 Inquieto">+1 Inquieto</option>
                                            <option value="0 Alerta e Calmo">0 Alerta e Calmo</option>
                                            <option value="-1 Sonolento">-1 Sonolento</option>
                                            <option value="-2 Sedação Leve">-2 Sedação Leve</option>
                                            <option value="-3 Sedação Moderada">-3 Sedação Moderada</option>
                                            <option value="-4 Sedação Profunda">-4 Sedação Profunda</option>
                                            <option value="-5 Não Despertável">-5 Não Despertável</option>
                                        </select>
                                    </div>
                                    </div>
                                <textarea id="neuro-obs" rows="2" class="form-textarea w-full mt-4" placeholder="Outras observações neurológicas"></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Cardiovascular</h3>
                                <div class="grid-container">
                                   <div>
                                        <label class="font-medium text-secondary">Ritmo:</label>
                                        <select id="cardio-ritmo" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Regular">Regular</option>
                                            <option value="Irregular">Irregular</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="cardio-ritmo-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="cardio-ritmo-outro" class="form-input w-full mt-1" placeholder="Detalhe do ritmo">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Bulhas:</label>
                                        <select id="cardio-bulhas" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Normofonéticas">Normofonéticas</option>
                                            <option value="Hipofonéticas">Hipofonéticas</option>
                                            <option value="Hiperfonéticas">Hiperfonéticas</option>
                                            <option value="Desdobradas">Desdobradas</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="cardio-bulhas-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Bulhas):</label>
                                        <input type="text" id="cardio-bulhas-outro" class="form-input w-full mt-1" placeholder="Detalhe das bulhas">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Tempos:</label>
                                        <select id="cardio-bulhas-tempos" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="em 2 Tempos">em 2 Tempos</option>
                                            <option value="em 3 Tempos">em 3 Tempos</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="cardio-bulhas-tempos-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Tempos):</label>
                                        <input type="text" id="cardio-bulhas-tempos-outro" class="form-input w-full mt-1" placeholder="Detalhe dos tempos">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Sopros:</label>
                                        <select id="cardio-sopros" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausentes">Ausentes</option>
                                            <option value="Sopro Sistólico Ejetivo">Sopro Sistólico Ejetivo</option>
                                            <option value="Sopro Sistólico Regurgitativo">Sopro Sistólico Regurgitativo</option>
                                            <option value="Sopro Diastólico">Sopro Diastólico</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="cardio-sopros-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Sopros):</label>
                                        <input type="text" id="cardio-sopros-detalhes" class="form-input w-full mt-1" placeholder="Foco, irradiação, intensidade">
                                    </div>
                                     <div id="cardio-sopros-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="cardio-sopros-outro" class="form-input w-full mt-1" placeholder="Detalhe dos sopros">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Turgência Jugular:</label>
                                        <select id="cardio-tj" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausente">Ausente</option>
                                            <option value="Presente">Presente</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                     <div id="cardio-tj-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="cardio-tj-outro" class="form-input w-full mt-1" placeholder="Detalhe da turgência jugular">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Ictus:</label>
                                        <select id="cardio-ictus" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Não Palpável">Não Palpável</option>
                                            <option value="Palpável">Palpável</option>
                                            <option value="Desviado">Desviado</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                     <div id="cardio-ictus-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="cardio-ictus-outro" class="form-input w-full mt-1" placeholder="Detalhe do ictus">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Pulsos:</label>
                                        <select id="cardio-pulsos" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Simétricos e Cheios">Simétricos e Cheios</option>
                                            <option value="Diminuídos">Diminuídos</option>
                                            <option value="Filiformes">Filiformes</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="cardio-pulsos-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="cardio-pulsos-outro" class="form-input w-full mt-1" placeholder="Detalhe dos pulsos">
                                    </div>
                                </div>
                                <textarea id="ef-cardio-obs" rows="2" class="form-textarea w-full mt-4" placeholder="Outras observações cardiovasculares"></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Respiratório</h3>
                                <div class="grid-container">
                                   <div>
                                        <label class="font-medium text-secondary">Padrão Respiratório:</label>
                                        <select id="resp-padrao" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Eupnéico">Eupnéico</option>
                                            <option value="Taquipneico">Taquipneico</option>
                                            <option value="Bradipneico">Bradipneico</option>
                                            <option value="Hiperpneico">Hiperpneico</option>
                                            <option value="Kussmaul">Kussmaul</option>
                                            <option value="Cheyne-Stokes">Cheyne-Stokes</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="resp-padrao-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="resp-padrao-outro" class="form-input w-full mt-1" placeholder="Detalhe do padrão">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Ausculta Pulmonar:</label>
                                        <select id="ausculta-resp" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Murmúrio Vesicular Presente">Murmúrio Vesicular Presente</option>
                                            <option value="Murmúrio Vesicular Diminuído">Murmúrio Vesicular Diminuído</option>
                                            <option value="Murmúrio Vesicular Abolido">Murmúrio Vesicular Abolido</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ausculta-resp-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ausculta-resp-outro" class="form-input w-full mt-1" placeholder="Detalhe da ausculta pulmonar">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Ruídos Adventícios:</label>
                                        <select id="ra-resp" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausentes">Ausentes</option>
                                            <option value="Crepitações">Crepitações</option>
                                            <option value="Estertores Bolhosos">Estertores Bolhosos</option>
                                            <option value="Sibilos">Sibilos</option>
                                            <option value="Roncos">Roncos</option>
                                            <option value="Atrito Pleural">Atrito Pleural</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ra-resp-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Ruídos):</label>
                                        <input type="text" id="ra-resp-detalhes" class="form-input w-full mt-1" placeholder="Localização do ruído">
                                    </div>
                                    <div id="ra-resp-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ra-resp-outro" class="form-input w-full mt-1" placeholder="Detalhe dos ruídos adventícios">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Dispneia:</label>
                                        <select id="ef-resp-dispneia" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausente">Ausente</option>
                                            <option value="Aos Grandes Esforços">Aos Grandes Esforços</option>
                                            <option value="Aos Médios Esforços">Aos Médios Esforços</option>
                                            <option value="Aos Pequenos Esforços">Aos Pequenos Esforços</option>
                                            <option value="Em Repouso">Em Repouso</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-resp-dispneia-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-resp-dispneia-outro" class="form-input w-full mt-1" placeholder="Detalhe da dispneia">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Tosse:</label>
                                        <select id="ef-resp-tosse-geral" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Sim">Sim</option>
                                            <option value="Não">Não</option>
                                        </select>
                                    </div>
                                    <div id="ef-resp-tosse-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Tipo de Tosse:</label>
                                        <select id="ef-resp-tosse" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Tosse Seca">Tosse Seca</option>
                                            <option value="Tosse Produtiva">Tosse Produtiva</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-resp-tosse-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-resp-tosse-outro" class="form-input w-full mt-1" placeholder="Ex: Expectoração hialina, etc.">
                                    </div>
                                </div>
                                 <textarea id="ef-resp-obs" rows="2" class="form-textarea w-full mt-4" placeholder="Outras observações respiratórias"></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Abdominal</h3>
                                 <div class="grid-container">
                                    <div>
                                        <label class="font-medium text-secondary">Forma:</label>
                                        <select id="ef-abd-forma" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Plano">Plano</option>
                                            <option value="Globoso">Globoso</option>
                                            <option value="Semigloboso">Semigloboso</option>
                                            <option value="Escavado">Escavado</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-abd-forma-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-abd-forma-outro" class="form-input w-full mt-1" placeholder="Detalhe da forma abdominal">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Consistência:</label>
                                        <select id="ef-abd-consistencia" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Flácido">Flácido</option>
                                            <option value="Depressível">Depressível</option>
                                            <option value="Tenso">Tenso</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-abd-consistencia-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-abd-consistencia-outro" class="form-input w-full mt-1" placeholder="Detalhe da consistência">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Dor à Palpação:</label>
                                        <select id="ef-abd-dor" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Indolor">Indolor</option>
                                            <option value="Doloroso">Doloroso</option>
                                            <option value="Dor à Descompressão Brusca">Dor à Descompressão Brusca</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-abd-dor-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-abd-dor-outro" class="form-input w-full mt-1" placeholder="Detalhe da dor à palpação">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Visceromegalias:</label>
                                        <select id="ef-abd-viscero" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Ausentes">Ausentes</option>
                                            <option value="Hepatomegalia">Hepatomegalia</option>
                                            <option value="Esplenomegalia">Esplenomegalia</option>
                                            <option value="Massa Palpável">Massa Palpável</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-abd-viscero-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-abd-viscero-outro" class="form-input w-full mt-1" placeholder="Detalhe de visceromegalias">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Ruídos Hidroaéreos:</label>
                                        <select id="ef-abd-sons" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Presentes">Presentes</option>
                                            <option value="Aumentados">Aumentados</option>
                                            <option value="Diminuídos">Diminuídos</option>
                                            <option value="Ausentes">Ausentes</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="ef-abd-sons-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="ef-abd-sons-outro" class="form-input w-full mt-1" placeholder="Detalhe dos sons abdominais">
                                    </div>
                                </div>
                                <textarea id="ef-abd-obs" rows="2" class="form-textarea w-full mt-4" placeholder="Outras observações abdominais"></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Pele e Periférico</h3>
                                <div class="grid-container">
                                   <div>
                                        <label class="font-medium text-secondary">Temperatura:</label>
                                        <select id="pele-temp" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Aquecidas">Aquecidas</option>
                                            <option value="Frias">Frias</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="pele-temp-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="pele-temp-outro" class="form-input w-full mt-1" placeholder="Detalhe da temperatura">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Turgor:</label>
                                        <select id="pele-turgor" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Preservado">Preservado</option>
                                            <option value="Diminuído">Diminuído</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="pele-turgor-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="pele-turgor-outro" class="form-input w-full mt-1" placeholder="Detalhe do turgor">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Edema:</label>
                                        <select id="pele-edema" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Presente">Presente</option>
                                            <option value="Ausente">Ausente</option>
                                        </select>
                                    </div>
                                    <div id="pele-edema-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Edema):</label>
                                        <input type="text" id="pele-edema-detalhes" class="form-input w-full mt-1" placeholder="Ex: +2/4 em MMII">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Perf. Capilar:</label>
                                        <select id="pele-tec" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="TEC < 3s">TEC < 3s</option>
                                            <option value="TEC > 3s">TEC > 3s</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="pele-tec-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="pele-tec-outro" class="form-input w-full mt-1" placeholder="Detalhe da perfusão capilar">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Pulsos:</label>
                                        <select id="pele-pulsos" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Simétricos e Cheios">Simétricos e Cheios</option>
                                            <option value="Diminuídos">Diminuídos</option>
                                            <option value="Filiformes">Filiformes</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="pele-pulsos-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="pele-pulsos-outro" class="form-input w-full mt-1" placeholder="Detalhe dos pulsos">
                                    </div>
                                    <div>
                                        <label class="font-medium text-secondary">Integridade da pele:</label>
                                        <select id="pele-integridade" class="form-select mt-1 w-full">
                                            <option value="">-- Selecione --</option>
                                            <option value="Íntegra">Íntegra</option>
                                            <option value="Icterícia">Icterícia</option>
                                            <option value="Cianose">Cianose</option>
                                            <option value="Úlcera de Pressão">Úlcera de Pressão</option>
                                            <option value="Com Lesões">Com Lesões</option>
                                            <option value="outro">Outro</option>
                                        </select>
                                    </div>
                                    <div id="pele-integridade-detalhes-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes (Pele):</label>
                                        <input type="text" id="pele-integridade-detalhes" class="form-input w-full mt-1" placeholder="Descreva as lesões/achados">
                                    </div>
                                    <div id="pele-integridade-outro-container" class="hidden">
                                        <label class="font-medium text-secondary">Detalhes:</label>
                                        <input type="text" id="pele-integridade-outro" class="form-input w-full mt-1" placeholder="Detalhe da integridade da pele">
                                    </div>
                                </div>
                                <textarea id="pele-obs" rows="2" class="form-textarea w-full mt-4" placeholder="Outras observações de pele e extremidades"></textarea>
                           </div>
                           <div>
                                <h3 class="subsection-title">Outro Sistema</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="ef-outro-sistema-nome" class="font-medium text-secondary">Sistema:</label>
                                        <input type="text" id="ef-outro-sistema-nome" placeholder="Ex: Osteomuscular" class="form-input w-full mt-1">
                                    </div>
                                    <div class="col-span-full">
                                        <label for="ef-outro-sistema-descricao" class="font-medium text-secondary">Descrição do exame físico:</label>
                                        <textarea id="ef-outro-sistema-descricao" rows="2" class="form-textarea w-full mt-1" placeholder="Descreva os achados do exame físico para o sistema informado."></textarea>
                                    </div>
                                </div>
                           </div>
                           </div>
                    </div>

                 <div class="md-card">
                        <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-file-medical-alt text-xl text-blue-500"></i>
                                <h2 class="text-lg md:text-xl font-medium text-primary">4. Intercorrências e Condutas</h2>
                            </div>
                            <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                        </button>
                        <div class="accordion-content p-4 md:p-6 border-t hidden space-y-4">
                           <div>
                                <label class="font-medium text-secondary">Intercorrências clínicas:</label>
                                <textarea id="intercorrencias" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Intercorrência de pico hipertensivo"></textarea>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Ajustes terapêuticos / prescrições:</label>
                                <textarea id="ajustes" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Ajustado analgésico, iniciado antibiótico"></textarea>
                            </div>
                        </div>
                    </div>

                 <div class="md-card">
                        <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-vial text-xl text-blue-500"></i>
                                <h2 class="text-lg md:text-xl font-medium text-primary">5. Exames e Resultados</h2>
                            </div>
                            <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                        </button>
                        <div class="accordion-content p-4 md:p-6 border-t hidden space-y-4">
                           <div>
                                <label class="font-medium text-secondary">Exames Laboratoriais:</label>
                                <textarea id="exames-lab" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Hemograma, função renal, eletrólitos, etc."></textarea>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Exames de Imagem:</label>
                                <textarea id="exames-imagem" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Raio-X de tórax, TC de abdome, etc."></textarea>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Outros Exames:</label>
                                <textarea id="exames-outros" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: ECG, gasometria, etc."></textarea>
                            </div>
                        </div>
                    </div>

                 <div class="md-card">
                        <button class="accordion-header w-full flex justify-between items-center p-4 md:p-5 text-left bg-md-surface hover:bg-gray-100 dark:hover:bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-clipboard-list text-xl text-blue-500"></i>
                                <h2 class="text-lg md:text-xl font-medium text-primary">6. Conduta e Planejamento</h2>
                            </div>
                            <i class="fas fa-chevron-down chevron-icon text-secondary"></i>
                        </button>
                        <div class="accordion-content p-4 md:p-6 border-t hidden space-y-4">
                           <div>
                                <label class="font-medium text-secondary">Conduta para as próximas 24 horas:</label>
                                <textarea id="conduta" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Manter conduta, reavaliar em 24h."></textarea>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Outras considerações:</label>
                                <textarea id="planejamento" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: Solicitar avaliação da fonoaudiologia, considerar retirada de acesso venoso central amanhã."></textarea>
                            </div>
                            <div>
                                <label class="font-medium text-secondary">Profilaxias (TVP/TEV, Úlcera de estresse):</label>
                                <textarea id="profilaxias" rows="2" class="form-textarea w-full mt-1" placeholder="Ex: TVP com Enoxaparina 40mg SC 1x/dia, Úlcera de estresse com Pantoprazol 40mg EV 1x/dia."></textarea>
                            </div>
                            </div>
                    </div>
                   </div>
        </main>

        <section class="md-card p-4 md:p-8">
            <div class="flex items-center space-x-4 mb-4">
                <i class="fas fa-magic-sparkles text-xl text-blue-500"></i>
                <h2 class="text-xl md:text-2xl font-semibold text-primary">Resumo Automático</h2>
            </div>
            <div class="generated-summary text-secondary" id="summary-output" style="white-space: pre-wrap;">
                Comece a preencher os campos para gerar o resumo.
            </div>
            <button id="copy-btn" class="mt-6 w-full flex items-center justify-center px-4 py-2 md:px-6 md:py-3 md-button font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-transform transform active:scale-[0.98]">
                <i class="fas fa-copy mr-2"></i>
                Copiar Resumo
            </button>
        </section>
    </div>

    <script>
        // Funções auxiliares (getInputValue, getSelectValue, getCheckboxStatus)
        function getInputValue(id) {
            const el = document.getElementById(id);
            return el ? el.value.trim() : '';
        }

        function getSelectValue(id) {
            const select = document.getElementById(id);
            return select ? select.value : '';
        }

        function getCheckboxStatus(id) {
            const checkbox = document.getElementById(id);
            return checkbox ? checkbox.checked : false;
        }

        // Função para mostrar/esconder elementos e limpar seus inputs
        function showHide(elementId, show) {
            const element = document.getElementById(elementId);
            if (element) {
                if (show) {
                    element.classList.remove('hidden');
                } else {
                    element.classList.add('hidden');
                    const inputs = element.querySelectorAll('input, textarea, select');
                    inputs.forEach(input => {
                        if (input.type === 'checkbox' || input.type === 'radio') {
                            input.checked = false;
                        } else {
                            input.value = '';
                        }
                    });
                }
            }
        }
       
        document.addEventListener('DOMContentLoaded', () => {
            // Lógica do Tema Escuro
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeIcon = themeToggleBtn.querySelector('i');
            const userTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches;

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                    localStorage.setItem('theme', 'light');
                }
            };

            if (userTheme === 'dark' || (!userTheme && systemTheme)) {
                applyTheme('dark');
            } else {
                applyTheme('light');
            }

            themeToggleBtn.addEventListener('click', () => {
                if (document.documentElement.classList.contains('dark')) {
                    applyTheme('light');
                } else {
                    applyTheme('dark');
                }
            });

            // Lógica do Accordion
            const accordionHeaders = document.querySelectorAll('.accordion-header');
           
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const chevron = header.querySelector('.chevron-icon');
                   
                    content.classList.toggle('hidden');
                    chevron.classList.toggle('rotate-180');
                });
            });

            // Gerenciador de eventos centralizado
            document.body.addEventListener('change', (event) => {
                const targetId = event.target.id;
                const targetValue = event.target.value;

                if (targetValue === 'outro') {
                    showHide(`${targetId}-outro-container`, true);
                } else if (document.getElementById(`${targetId}-outro-container`)) {
                    showHide(`${targetId}-outro-container`, false);
                }
               
                switch (targetId) {
                    case 'queixas':
                        showHide('queixas-obs-container', targetValue === 'Sim');
                        break;
                    case 'suporte-vent':
                        showHide('vm-parameters-container', targetValue === 'VM');
                        showHide('suporte-vent-outro-container', targetValue === 'outro');
                        break;
                    case 'dva':
                        showHide('dva-obs-container', targetValue === 'Sim');
                        break;
                    case 'dieta-tipo':
                        showHide('dieta-aceitacao-container', targetValue !== 'Jejum');
                        break;
                    case 'ef-resp-tosse-geral':
                        showHide('ef-resp-tosse-detalhes-container', targetValue === 'Sim');
                        if (targetValue !== 'Sim') { showHide('ef-resp-tosse-outro-container', false); }
                        break;
                    case 'pele-edema':
                        showHide('pele-edema-detalhes-container', targetValue === 'Presente');
                        break;
                    case 'neuro-pares':
                        showHide('neuro-pares-detalhes-container', targetValue === 'Alterados');
                        break;
                    case 'neuro-forca-motora':
                        showHide('neuro-forca-motora-detalhes-container', ['Paresia (localizar)', 'Plegia (localizar)'].includes(targetValue));
                        break;
                    case 'cardio-sopros':
                        showHide('cardio-sopros-detalhes-container', ['Sopro Sistólico Ejetivo', 'Sopro Sistólico Regurgitativo', 'Sopro Diastólico'].includes(targetValue));
                        break;
                    case 'ra-resp':
                        showHide('ra-resp-detalhes-container', targetValue !== 'Ausentes' && targetValue !== '' && targetValue !== 'outro');
                        break;
                    case 'pele-integridade':
                        showHide('pele-integridade-detalhes-container', ['Com Lesões', 'Úlcera de Pressão'].includes(targetValue));
                        break;
                }
            });

            const formElements = document.querySelectorAll('input, textarea, select');
            formElements.forEach(el => {
                el.addEventListener('input', generateSummary);
            });
           
            generateSummary();

            document.getElementById('copy-btn').addEventListener('click', () => {
                const textToCopy = document.getElementById('summary-output').innerText;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    const copyBtn = document.getElementById('copy-btn');
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = `<i class="fas fa-check mr-2"></i> Copiado!`;
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                    }, 2000);
                }).catch(err => {
                    console.error('Falha ao copiar texto:', err);
                });
            });
        });

        function generateSummary() {
            const setor = getInputValue('setor');
            const leito = getInputValue('leito');
            const evolucaoClinica = getSelectValue('evolucao-clinica');
            const evolucaoHemo = getSelectValue('evolucao-hemo');
            const estadoGeral = getSelectValue('estado-geral');
            const nivelConsciencia = getSelectValue('nivel-consciencia');
            const estadoHidratacao = getSelectValue('estado-hidratacao');
            const queixas = getSelectValue('queixas');
            const queixasObs = getInputValue('queixas-obs');
            const distermias = getSelectValue('distermias');
            const disglicemias = getSelectValue('disglicemias');
            const altPa = getSelectValue('alt-pa');
            const altLab = getSelectValue('alt-lab');
            const obsGerais = getInputValue('obs-gerais');
            const pa = getInputValue('pa');
            const fc = getInputValue('fc');
            const fr = getInputValue('fr');
            const temp = getInputValue('temp');
            const sato2 = getInputValue('sato2');
            const dorEscala = getInputValue('dor-escala');
            const suporteVent = getSelectValue('suporte-vent');
            const suporteVentOutro = getInputValue('suporte-vent-outro');
            const vmModo = getInputValue('vm-modo');
            const vmFio2 = getInputValue('vm-fio2');
            const vmPeep = getInputValue('vm-peep');
            const vmFr = getInputValue('vm-fr');
            const vmPva = getInputValue('vm-pva');
            const vmTidalVol = getInputValue('vm-tidal-vol');
            const vmOutrosParams = getInputValue('vm-outros-params');
            const dvaStatus = getSelectValue('dva');
            const dvaObs = getInputValue('dva-obs');
            const diureseTipo = getSelectValue('diurese-tipo');
            const diureseTipoOutro = getInputValue('diurese-tipo-outro');
            const diurese = getInputValue('diurese');
            const evacuacoesTipo = getSelectValue('evacuacoes-tipo');
            const evacuacoesTipoOutro = getInputValue('evacuacoes-tipo-outro');
            const evacuacoes = getInputValue('evacuacoes');
            const dietaTipo = getSelectValue('dieta-tipo');
            const dietaTipoOutro = getInputValue('dieta-tipo-outro');
            const dietaAceitacao = getSelectValue('dieta-aceitacao');
            const picoPa = getInputValue('pico-pa');
            const quedaPa = getInputValue('queda-pa');
            const picoTemp = getInputValue('pico-temp');
            const quedaTemp = getInputValue('queda-temp');
            const picoGlicemia = getInputValue('pico-glicemia');
            const picoSato2 = getInputValue('pico-sato2');
            const quedaSato2 = getInputValue('queda-sato2');
            const picoPaHora = getInputValue('pico-pa-hora');
            const quedaPaHora = getInputValue('queda-pa-hora');
            const picoTempHora = getInputValue('pico-temp-hora');
            const quedaTempHora = getInputValue('queda-temp-hora');
            const picoGlicemiaHora = getInputValue('pico-glicemia-hora');
            const picoSato2Hora = getInputValue('pico-sato2-hora');
            const quedaSato2Hora = getInputValue('queda-sato2-hora');
            const quedaGlicemia = getInputValue('queda-glicemia');
            const quedaGlicemiaHora = getInputValue('queda-glicemia-hora');
            const efGeralConsciencia = getSelectValue('ef-geral-consciencia');
            const efGeralConscienciaOutro = getInputValue('ef-geral-consciencia-outro');
            const efEstadoNutricional = getSelectValue('ef-estado-nutricional');
            const efEstadoNutricionalOutro = getInputValue('ef-estado-nutricional-outro');
            const efDecubito = getSelectValue('ef-decubito');
            const efDecubitoOutro = getInputValue('ef-decubito-outro');
            const efDispositivos = getInputValue('ef-dispositivos');
            const efCorado = getCheckboxStatus('ef-corado');
            const efHidratado = getCheckboxStatus('ef-hidratado');
            const efAnicterico = getCheckboxStatus('ef-anictérico');
            const efAcianotico = getCheckboxStatus('ef-acianotico');
            const efAfebril = getCheckboxStatus('ef-afebril');
            const efEupneico = getCheckboxStatus('ef-eupneico');
            const efGeralObs = getInputValue('ef-geral-obs');
            const neuroConscienciaEf = getSelectValue('neuro-consciencia-ef');
            const neuroConscienciaOutro = getInputValue('neuro-consciencia-ef-outro');
            const neuroPupilas = getSelectValue('neuro-pupilas');
            const neuroPupilasOutro = getInputValue('neuro-pupilas-outro');
            const neuroPares = getSelectValue('neuro-pares');
            const neuroParesDetalhes = getInputValue('neuro-pares-detalhes');
            const neuroParesOutro = getInputValue('neuro-pares-outro');
            const neuroForcaMotora = getSelectValue('neuro-forca-motora');
            const neuroForcaMotoraDetalhes = getInputValue('neuro-forca-motora-detalhes');
            const neuroForcaMotoraOutro = getInputValue('neuro-forca-motora-outro');
            const neuroSensibilidade = getSelectValue('neuro-sensibilidade');
            const neuroSensibilidadeOutro = getInputValue('neuro-sensibilidade-outro');
            const neuroReflexos = getSelectValue('neuro-reflexos');
            const neuroReflexosOutro = getInputValue('neuro-reflexos-outro');
            const neuroMeningeos = getSelectValue('neuro-meningeos');
            const glasgow = getInputValue('glasgow');
            const neuroRass = getSelectValue('neuro-rass');
            const neuroObs = getInputValue('neuro-obs');
            const cardioRitmo = getSelectValue('cardio-ritmo');
            const cardioRitmoOutro = getInputValue('cardio-ritmo-outro');
            const cardioBulhas = getSelectValue('cardio-bulhas');
            const cardioBulhasOutro = getInputValue('cardio-bulhas-outro');
            const cardioBulhasTempos = getSelectValue('cardio-bulhas-tempos');
            const cardioBulhasTemposOutro = getInputValue('cardio-bulhas-tempos-outro');
            const cardioSopros = getSelectValue('cardio-sopros');
            const cardioSoprosDetalhes = getInputValue('cardio-sopros-detalhes');
            const cardioSoprosOutro = getInputValue('cardio-sopros-outro');
            const cardioTj = getSelectValue('cardio-tj');
            const cardioTjOutro = getInputValue('cardio-tj-outro');
            const cardioIctus = getSelectValue('cardio-ictus');
            const cardioIctusOutro = getInputValue('cardio-ictus-outro');
            const cardioPulsos = getSelectValue('cardio-pulsos');
            const cardioPulsosOutro = getInputValue('cardio-pulsos-outro');
            const efCardioObs = getInputValue('ef-cardio-obs');
            const respPadrao = getSelectValue('resp-padrao');
            const respPadraoOutro = getInputValue('resp-padrao-outro');
            const auscultaResp = getSelectValue('ausculta-resp');
            const auscultaRespOutro = getInputValue('ausculta-resp-outro');
            const raResp = getSelectValue('ra-resp');
            const raRespDetalhes = getInputValue('ra-resp-detalhes');
            const raRespOutro = getInputValue('ra-resp-outro');
            const efRespDispneia = getSelectValue('ef-resp-dispneia');
            const efRespDispneiaOutro = getInputValue('ef-resp-dispneia-outro');
            const efRespTosseGeral = getSelectValue('ef-resp-tosse-geral');
            const efRespTosse = getSelectValue('ef-resp-tosse');
            const efRespTosseOutro = getInputValue('ef-resp-tosse-outro');
            const efRespObs = getInputValue('ef-resp-obs');
            const efAbdForma = getSelectValue('ef-abd-forma');
            const efAbdFormaOutro = getInputValue('ef-abd-forma-outro');
            const efAbdConsistencia = getSelectValue('ef-abd-consistencia');
            const efAbdConsistenciaOutro = getInputValue('ef-abd-consistencia-outro');
            const efAbdDor = getSelectValue('ef-abd-dor');
            const efAbdDorOutro = getInputValue('ef-abd-dor-outro');
            const efAbdViscero = getSelectValue('ef-abd-viscero');
            const efAbdVisceroOutro = getInputValue('ef-abd-viscero-outro');
            const efAbdSons = getSelectValue('ef-abd-sons');
            const efAbdSonsOutro = getInputValue('ef-abd-sons-outro');
            const efAbdObs = getInputValue('ef-abd-obs');
            const peleTemp = getSelectValue('pele-temp');
            const peleTempOutro = getInputValue('pele-temp-outro');
            const peleTurgor = getSelectValue('pele-turgor');
            const peleTurgorOutro = getInputValue('pele-turgor-outro');
            const peleEdema = getSelectValue('pele-edema');
            const peleEdemaDetalhes = getInputValue('pele-edema-detalhes');
            const peleTec = getSelectValue('pele-tec');
            const peleTecOutro = getInputValue('pele-tec-outro');
            const pelePulsos = getSelectValue('pele-pulsos');
            const pelePulsosOutro = getInputValue('pele-pulsos-outro');
            const peleIntegridade = getSelectValue('pele-integridade');
            const peleIntegridadeDetalhes = getInputValue('pele-integridade-detalhes');
            const peleIntegridadeOutro = getInputValue('pele-integridade-outro');
            const peleObs = getInputValue('pele-obs');
            const efOutroSistemaNome = getInputValue('ef-outro-sistema-nome'); // NOVO
            const efOutroSistemaDescricao = getInputValue('ef-outro-sistema-descricao'); // NOVO
            const intercorrencias = getInputValue('intercorrencias');
            const ajustes = getInputValue('ajustes');
            const examesLab = getInputValue('exames-lab');
            const examesImagem = getInputValue('exames-imagem');
            const examesOutros = getInputValue('exames-outros');
            const conduta = getInputValue('conduta');
            const planejamento = getInputValue('planejamento');
            const profilaxias = getInputValue('profilaxias');

            let resumo = '';

            let evolucaoAnamnese = '1. EVOLUÇÃO E ANAMNESE\n';
            if (setor) evolucaoAnamnese += `Paciente no setor ${setor}. `;
            if (leito) evolucaoAnamnese += `Em leito ${leito}. `;
            if (estadoGeral) evolucaoAnamnese += `Em ${estadoGeral.toLowerCase()} estado geral. `;
            if (evolucaoClinica) evolucaoAnamnese += `Evolui clinicamente ${evolucaoClinica.toLowerCase()}. `;
            if (evolucaoHemo) evolucaoAnamnese += `Evolui hemodinamicamente ${evolucaoHemo.toLowerCase()}. `;
            if (nivelConsciencia) evolucaoAnamnese += `Nível de consciência: ${nivelConsciencia.toLowerCase()}. `;
            if (estadoHidratacao) evolucaoAnamnese += `Estado de hidratação: ${estadoHidratacao.toLowerCase()}. `;
            if (queixas === 'Sim' && queixasObs) {
                evolucaoAnamnese += `Refere queixas de ${queixasObs}. `;
            } else if (queixas === 'Não') {
                evolucaoAnamnese += `Nega queixas nas últimas 24h. `;
            }
            const intercorrenciasGerais = [];
            if (distermias === 'Sim') intercorrenciasGerais.push('distermias');
            if (disglicemias === 'Sim') intercorrenciasGerais.push('disglicemias');
            if (altPa === 'Sim') intercorrenciasGerais.push('alterações de pressão arterial');
            if (altLab === 'Sim') intercorrenciasGerais.push('alterações laboratoriais');
            if (intercorrenciasGerais.length > 0) {
                evolucaoAnamnese += `Apresentou as seguintes intercorrências: ${intercorrenciasGerais.join(', ')}. `;
            }
            if (obsGerais) evolucaoAnamnese += `Observações gerais (anamnese): ${obsGerais}.`;
            if (evolucaoAnamnese !== '1. EVOLUÇÃO E ANAMNESE\n') resumo += evolucaoAnamnese.trim() + '\n\n';

            let parametrosTexto = '2. PARÂMETROS VITAIS E SUPORTE\n';
            const parametros = [];
            if (pa) parametros.push(`PA: ${pa} mmHg`);
            if (fc) parametros.push(`FC: ${fc} bpm`);
            if (fr) parametros.push(`FR: ${fr} irpm`);
            if (temp) parametros.push(`Temp: ${temp} °C`);
            if (sato2) parametros.push(`SatO₂: ${sato2}%`);
            if (dorEscala) parametros.push(`Dor: ${dorEscala}/10`);
            if (parametros.length > 0) parametrosTexto += `Parâmetros vitais: ${parametros.join(', ')}. `;
            const picos = [];
            if (picoPa) picos.push(`Pico PA de ${picoPa} mmHg${picoPaHora ? ` às ${picoPaHora}` : ''}`);
            if (quedaPa) picos.push(`Queda PA de ${quedaPa} mmHg${quedaPaHora ? ` às ${quedaPaHora}` : ''}`);
            if (picoTemp) picos.push(`Pico de temperatura de ${picoTemp} °C${picoTempHora ? ` às ${picoTempHora}` : ''}`);
            if (quedaTemp) picos.push(`Queda de temperatura de ${quedaTemp} °C${quedaTempHora ? ` às ${quedaTempHora}` : ''}`);
            if (picoGlicemia) picos.push(`Pico glicêmico de ${picoGlicemia} mg/dL${picoGlicemiaHora ? ` às ${picoGlicemiaHora}` : ''}`);
            if (quedaGlicemia) picos.push(`Queda glicêmica de ${quedaGlicemia} mg/dL${quedaGlicemiaHora ? ` às ${quedaGlicemiaHora}` : ''}`);
            if (picoSato2) picos.push(`Pico de SatO₂ de ${picoSato2}%${picoSato2Hora ? ` às ${picoSato2Hora}` : ''}`);
            if (quedaSato2) picos.push(`Queda de SatO₂ de ${quedaSato2}%${quedaSato2Hora ? ` às ${quedaSato2Hora}` : ''}`);
            if (picos.length > 0) {
                parametrosTexto += `\nEventos nas últimas 24h: ${picos.join('; ')}. `;
            }
            if (suporteVent === 'VM') {
                parametrosTexto += `\nEm Ventilação Mecânica:`;
                if (vmModo) parametrosTexto += ` Modo: ${vmModo}.`;
                if (vmFio2) parametrosTexto += ` FiO₂: ${vmFio2}%.`;
                if (vmPeep) parametrosTexto += ` PEEP: ${vmPeep} cmH₂O.`;
                if (vmFr) parametrosTexto += ` FR (Ventilador): ${vmFr} irpm.`;
                if (vmPva) parametrosTexto += ` Pva: ${vmPva} cmH₂O.`;
                if (vmTidalVol) parametrosTexto += ` VT: ${vmTidalVol} mL.`;
                if (vmOutrosParams) parametrosTexto += ` Outros: ${vmOutrosParams}.`;
            } else if (suporteVent) {
                let suporteTexto = suporteVent === 'outro' ? suporteVentOutro : suporteVent;
                parametrosTexto += `\nVentilação: ${suporteTexto.toLowerCase()}. `;
            }
            if (dvaStatus === 'Sim' && dvaObs) parametrosTexto += `\nEm uso de DVA: ${dvaObs}. `;
            if (dvaStatus === 'Não') parametrosTexto += '\nSem uso de DVA. ';
            const diureseDetalhe = diureseTipo === 'outro' ? diureseTipoOutro : diureseTipo;
            if (diureseDetalhe) {
                let diureseStr = `Diurese ${diureseDetalhe.toLowerCase()}`;
                if (diurese) diureseStr += ` (${diurese} mL/24h).`;
                parametrosTexto += `\n${diureseStr}`;
            }
            const evacuacoesDetalhe = evacuacoesTipo === 'outro' ? evacuacoesTipoOutro : evacuacoesTipo;
            if (evacuacoesDetalhe) {
                let evacuacoesStr = `Evacuações ${evacuacoesDetalhe.toLowerCase()}`;
                if (evacuacoes) evacuacoesStr += ` (${evacuacoes} nº/24h).`;
                parametrosTexto += `\n${evacuacoesStr}`;
            }
            let dietaDetalhe = dietaTipo === 'outro' ? dietaTipoOutro : dietaTipo;
            if (dietaDetalhe && dietaDetalhe.toLowerCase() !== 'jejum' && dietaAceitacao) {
                parametrosTexto += `\nDieta ${dietaDetalhe.toLowerCase()}, com aceitação ${dietaAceitacao.toLowerCase()}.`;
            } else if (dietaDetalhe) {
                parametrosTexto += `\nDieta ${dietaDetalhe.toLowerCase()}.`;
            }
            if (parametrosTexto !== '2. PARÂMETROS VITAIS E SUPORTE\n') resumo += parametrosTexto.trim() + '\n\n';

            let exameFisicoTexto = '3. EXAME FÍSICO\n';
            let temConteudoEF = false;

            const addExameFisicoSection = (title, achados, obs) => {
                if (achados.length > 0 || obs) {
                    if (temConteudoEF) exameFisicoTexto += '\n';
                    exameFisicoTexto += `${title}: ${achados.join(', ')}`;
                    if (obs) exameFisicoTexto += `. ${obs}`;
                    exameFisicoTexto += '.';
                    temConteudoEF = true;
                }
            };
            
            const geralAchados = [];
            let geralConsciencia = efGeralConsciencia === 'outro' ? efGeralConscienciaOutro : efGeralConsciencia;
            if (geralConsciencia) geralAchados.push(geralConsciencia);
            let estadoNutricional = efEstadoNutricional === 'outro' ? efEstadoNutricionalOutro : efEstadoNutricional;
            if (estadoNutricional) geralAchados.push(estadoNutricional);
            let decubito = efDecubito === 'outro' ? efDecubitoOutro : efDecubito;
            if (decubito) geralAchados.push(decubito);
            const adjetivos = [];
            if (efCorado) adjetivos.push('corado');
            if (efHidratado) adjetivos.push('hidratado');
            if (efAnicterico) adjetivos.push('anictérico');
            if (efAcianotico) adjetivos.push('acianótico');
            if (efAfebril) adjetivos.push('afebril');
            if (efEupneico) adjetivos.push('eupnéico');
            if (adjetivos.length > 0) geralAchados.push(adjetivos.join(', '));
            if (efDispositivos) geralAchados.push(`Dispositivos: ${efDispositivos}`);
            addExameFisicoSection('GERAL', geralAchados, efGeralObs);

            const neuroAchados = [];
            let neuroConsciencia = neuroConscienciaEf === 'outro' ? neuroConscienciaOutro : neuroConscienciaEf;
            if (neuroConsciencia) neuroAchados.push(`Nível de consciência: ${neuroConsciencia}`);
            if (neuroRass) neuroAchados.push(`RASS ${neuroRass}`);
            if (glasgow) neuroAchados.push(`Glasgow ${glasgow}`);
            let pupilas = neuroPupilas === 'outro' ? neuroPupilasOutro : neuroPupilas;
            if (pupilas) neuroAchados.push(`Pupilas ${pupilas.toLowerCase()}`);
            if (neuroPares === 'Preservados') neuroAchados.push('Pares cranianos preservados');
            else if (neuroPares === 'Alterados' && neuroParesDetalhes) neuroAchados.push(`Pares cranianos com alteração: ${neuroParesDetalhes}`);
            else if (neuroPares === 'outro' && neuroParesOutro) neuroAchados.push(`Pares cranianos: ${neuroParesOutro}`);
            if (neuroForcaMotora && neuroForcaMotora !== 'outro' && !neuroForcaMotora.includes('localizar')) neuroAchados.push(`Força motora ${neuroForcaMotora.toLowerCase()}`);
            else if (neuroForcaMotora.includes('localizar') && neuroForcaMotoraDetalhes) neuroAchados.push(`${neuroForcaMotora.replace(' (localizar)', '')} em ${neuroForcaMotoraDetalhes}`);
            else if (neuroForcaMotora === 'outro' && neuroForcaMotoraOutro) neuroAchados.push(`Força motora: ${neuroForcaMotoraOutro}`);
            let sensibilidade = neuroSensibilidade === 'outro' ? neuroSensibilidadeOutro : neuroSensibilidade;
            if (sensibilidade) neuroAchados.push(`Sensibilidade ${sensibilidade.toLowerCase()}`);
            let reflexos = neuroReflexos === 'outro' ? neuroReflexosOutro : neuroReflexos;
            if (reflexos) neuroAchados.push(reflexos);
            if (neuroMeningeos) neuroAchados.push(`Sinais meníngeos ${neuroMeningeos.toLowerCase()}`);
            addExameFisicoSection('NEUROLÓGICO', neuroAchados, neuroObs);

            const cardioAchados = [];
            let ritmo = cardioRitmo === 'outro' ? cardioRitmoOutro : cardioRitmo;
            let bulhas = cardioBulhas === 'outro' ? cardioBulhasOutro : cardioBulhas;
            let tempos = cardioBulhasTempos === 'outro' ? cardioBulhasTemposOutro : cardioBulhasTempos;
            if (ritmo && bulhas && tempos) cardioAchados.push(`Ritmo cardíaco ${ritmo.toLowerCase()}, bulhas ${bulhas.toLowerCase()} ${tempos}`);
            let sopros = '';
            if (cardioSopros === 'Ausentes') sopros = 'sem sopros';
            else if (cardioSopros !== '' && cardioSopros !== 'outro' && cardioSoprosDetalhes) sopros = `com ${cardioSopros.toLowerCase()} em ${cardioSoprosDetalhes}`;
            else if (cardioSopros === 'outro' && cardioSoprosOutro) sopros = `com ${cardioSoprosOutro}`;
            if (sopros) cardioAchados.push(sopros);
            let tj = cardioTj === 'outro' ? cardioTjOutro : `turgência jugular ${cardioTj.toLowerCase()}`;
            if (cardioTj) cardioAchados.push(tj);
            let ictus = cardioIctus === 'outro' ? cardioIctusOutro : `Ictus ${cardioIctus.toLowerCase()}`;
            if (cardioIctus) cardioAchados.push(ictus);
            let pulsosCardio = cardioPulsos === 'outro' ? cardioPulsosOutro : `Pulsos ${cardioPulsos.toLowerCase()}`;
            if (cardioPulsos) cardioAchados.push(pulsosCardio);
            addExameFisicoSection('CARDIOVASCULAR', cardioAchados, efCardioObs);

            const respAchados = [];
            let padraoResp = respPadrao === 'outro' ? respPadraoOutro : respPadrao;
            if (padraoResp) respAchados.push(`Padrão respiratório: ${padraoResp.toLowerCase()}`);
            let ausculta = auscultaResp === 'outro' ? auscultaRespOutro : auscultaResp;
            let ra = '';
            if (raResp === 'Ausentes') ra = 'sem ruídos adventícios';
            else if (raResp !== '' && raResp !== 'outro' && raRespDetalhes) ra = `com ${raResp.toLowerCase()} em ${raRespDetalhes}`;
            else if (raResp === 'outro' && raRespOutro) ra = `com ${raRespOutro}`;
            if (ausculta) respAchados.push(`${ausculta}, ${ra}`);
            let dispneia = efRespDispneia === 'outro' ? efRespDispneiaOutro : efRespDispneia;
            if (dispneia) respAchados.push(`Dispneia ${dispneia.toLowerCase()}`);
            if (efRespTosseGeral === 'Não') respAchados.push('Ausência de tosse');
            else if (efRespTosseGeral === 'Sim') {
                let tosse = efRespTosse === 'outro' ? efRespTosseOutro : efRespTosse;
                if(tosse) respAchados.push(tosse);
            }
            addExameFisicoSection('RESPIRATÓRIO', respAchados, efRespObs);

            const abdAchados = [];
            let forma = efAbdForma === 'outro' ? efAbdFormaOutro : efAbdForma;
            let consistencia = efAbdConsistencia === 'outro' ? efAbdConsistenciaOutro : efAbdConsistencia;
            let dor = efAbdDor === 'outro' ? efAbdDorOutro : efAbdDor;
            if (forma) abdAchados.push(`Abdome ${forma.toLowerCase()}`);
            if (consistencia) abdAchados.push(consistencia.toLowerCase());
            if (dor) abdAchados.push(dor.toLowerCase());
            let rha = efAbdSons === 'outro' ? efAbdSonsOutro : `Ruídos hidroaéreos ${efAbdSons.toLowerCase()}`;
            if (efAbdSons) abdAchados.push(rha);
            let viscero = efAbdViscero === 'outro' ? efAbdVisceroOutro : `Visceromegalias: ${efAbdViscero}`;
            if (efAbdViscero) abdAchados.push(viscero);
            addExameFisicoSection('ABDOMINAL', abdAchados, efAbdObs);

            const peleAchados = [];
            let tempPele = peleTemp === 'outro' ? peleTempOutro : `Extremidades ${peleTemp.toLowerCase()}`;
            if (peleTemp) peleAchados.push(tempPele);
            let perfusao = peleTec === 'outro' ? peleTecOutro : peleTec;
            if (peleTec) peleAchados.push(`Perfusão capilar: ${perfusao}`);
            if (peleEdema === 'Presente' && peleEdemaDetalhes) peleAchados.push(`Edema ${peleEdemaDetalhes}`);
            else if (peleEdema) peleAchados.push(`Edema ${peleEdema.toLowerCase()}`);
            let integridade = '';
            if (peleIntegridade === 'Íntegra') integridade = 'Pele íntegra';
            else if (peleIntegridade !== '' && peleIntegridade !== 'outro' && !peleIntegridade.includes('Lesões') && !peleIntegridade.includes('Úlcera')) integridade = `Presença de ${peleIntegridade.toLowerCase()}`;
            else if (peleIntegridade.includes('Lesões') || peleIntegridade.includes('Úlcera') && peleIntegridadeDetalhes) integridade = `Presença de ${peleIntegridade.toLowerCase()}: ${peleIntegridadeDetalhes}`;
            else if (peleIntegridade === 'outro' && peleIntegridadeOutro) integridade = peleIntegridadeOutro;
            if (integridade) peleAchados.push(integridade);
            addExameFisicoSection('PELE E PERIFÉRICO', peleAchados, peleObs);

            if (efOutroSistemaNome && efOutroSistemaDescricao) {
                if (temConteudoEF) exameFisicoTexto += '\n';
                exameFisicoTexto += `${efOutroSistemaNome.toUpperCase()}: ${efOutroSistemaDescricao}.`;
                temConteudoEF = true;
            }

            if (temConteudoEF) {
                resumo += exameFisicoTexto.trim() + '\n\n';
            }

            let intercorrenciasCondutas = '4. INTERCORRÊNCIAS E CONDUTAS\n';
            let temIntercorrencias = false;
            if (intercorrencias) {
                intercorrenciasCondutas += `- Intercorrências clínicas: ${intercorrencias}.\n`;
                temIntercorrencias = true;
            }
            if (ajustes) {
                intercorrenciasCondutas += `- Ajustes terapêuticos/prescrições: ${ajustes}.\n`;
                temIntercorrencias = true;
            }
            if (temIntercorrencias) resumo += intercorrenciasCondutas.trim() + '\n\n';

            let examesResultados = '5. EXAMES E RESULTADOS\n';
            let temExames = false;
            if (examesLab) {
                examesResultados += `- Laboratoriais: ${examesLab}.\n`;
                temExames = true;
            }
            if (examesImagem) {
                examesResultados += `- Imagem: ${examesImagem}.\n`;
                temExames = true;
            }
            if (examesOutros) {
                examesResultados += `- Outros: ${examesOutros}.\n`;
                temExames = true;
            }
            if (temExames) resumo += examesResultados.trim() + '\n\n';

            let planoList = '6. CONDUTA E PLANEJAMENTO\n';
            if (conduta) planoList += `- Conduta para as próximas 24 horas: ${conduta}.\n`;
            if (planejamento) planoList += `- Outras considerações: ${planejamento}.\n`;
            if (profilaxias) planoList += `- Profilaxias: ${profilaxias}.\n`;
            if (planoList !== '6. CONDUTA E PLANEJAMENTO\n') resumo += planoList.trim() + '\n\n';

            const outputElement = document.getElementById('summary-output');
            const finalResumo = resumo.trim();

            if (finalResumo) {
                outputElement.innerText = finalResumo;
            } else {
                outputElement.innerText = 'Comece a preencher os campos para gerar o resumo.';
            }
        }
    </script>
</body>
</html>
